---
templateKey: dailycoding-post
title: 数组和指针的不同2：注意定义和声明
date: 2020-10-07T03:39:56.655Z
tags:
  - C 指针
---
就像上次我们讲的指针和数组都可以用字符串常量初始化。然后我们可以获取他们第2个元素的值。可以看到都是字母e

```c
    char *p = "hello";
    char a[] = "hello";
    printf("a[%d] = %c\n", 1, a[1]);
    printf("p[%d] = %c\n", 1, p[1]);
```

但是它们取得字母e的途径时非常不同的。

对于数组而言，每个符号的地址在编译时就确定了。所以a[1]只需要两步，假设a的地址是9527：

* 给a的地址（假设是9527），加1
* 获取地址(9527 + 1)的内容

指针的访问要多一次额外的提取（假设p的地址是1234）：

* 获取p的地址（1234）的内容（5678）
* 将5678 加1
* 获取(5678 + 1)处的内容

所以给大家一个思考题：如果在文件1中定义food是一个数组，在文件2中声明food是个指针，程序能正常工作吗？考虑我们刚才讲的数组和指针的取值方式。

```c
//文件1
int food[100];

//文件2
extern int *food;
```

