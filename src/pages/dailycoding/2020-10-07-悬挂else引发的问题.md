---
templateKey: dailycoding-post
title: 悬挂else引发的问题
date: 2020-10-07T03:37:37.563Z
tags:
  - C
---
应该有不少程序员在编程初期遇到过悬挂else引起的问题。比如像下面这样。

```c
    if (x == 0)
        if (y == 0)
            z = -1;
    else
    {
        z = x + y;
    }
```

我们本意是应该有两种情况，x等于0和x不等于0.对于x等于0的情况，区分y是否等于0。但是这段代码实际的行为却不是这样。因为C语言中，else始终与同一括号内最近的未匹配的if结合。所以这个else实际上是与y等于0的判断相结合。

这就引出老师们经常给新手说的：即使if判断之后只有一条语句，也要加上大括号，这样就不会存在问题，或者给每个if都来一个else，这样也不会存在问题。假设我们使用的是VS code等编辑器，它也会帮我们自动调整显示，发现问题。